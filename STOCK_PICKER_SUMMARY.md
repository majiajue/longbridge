# 智能选股系统 - 功能总结

## 🎯 核心功能

**一句话描述**：
用户提供做多和做空各20只股票，系统自动获取K线、量化评分、AI分析，并按推荐度排序展示。

## 📊 工作流程

```
用户输入40只股票
    ↓
系统批量获取K线数据
    ↓
量化评分系统评分（0-100分）
    ├─ 趋势 (30分)
    ├─ 动量 (25分)
    ├─ 量能 (15分)
    ├─ 波动 (15分)
    └─ 形态 (15分)
    ↓
AI分析器决策
    ├─ BUY/SELL/HOLD
    └─ 信心度 (0-1)
    ↓
计算推荐度 (0-100分)
    ├─ 做多池：高分 = 高推荐度
    └─ 做空池：低分 = 高推荐度
    ↓
按推荐度排序展示
```

## 🏆 推荐度算法

### 做多池（找强势股）
```
推荐度 = 量化评分 × 50% + AI信心度 × 15% + 信号强度 × 20%

高推荐度股票特征：
✓ 量化评分80+分（A级）
✓ AI信心度0.85+
✓ 多个强势信号（多头排列、MACD金叉、红三兵等）
```

### 做空池（找弱势股）
```
推荐度 = (100-量化评分) × 50% + AI信心度 × 15% + 信号强度 × 20%

高推荐度股票特征：
✓ 量化评分低于40分（D级）
✓ AI信心度0.80+
✓ 多个看跌信号（空头排列、MACD死叉、黑三兵等）
```

## 📱 界面展示

### 做多池示例
```
┌──────────────────────────────────┐
│ #1 NVDA 🟢 A级 (推荐度: 92)      │
│ $485.50 ↑2.5%                    │
│ ✓ 多头排列 ✓ MACD金叉           │
│ 信心度: 88%                      │
│ [详情] [买入]                    │
└──────────────────────────────────┘

┌──────────────────────────────────┐
│ #2 AAPL 🟡 B级 (推荐度: 78)      │
│ $175.50 ↑1.2%                    │
│ ✓ 价格在MA20上方                 │
│ 信心度: 75%                      │
│ [详情] [买入]                    │
└──────────────────────────────────┘

...前20名
```

### 做空池示例
```
┌──────────────────────────────────┐
│ #1 XYZ 🔴 D级 (推荐度: 85)       │
│ $125.30 ↓3.5%                    │
│ ✗ 空头排列 ✗ MACD死叉           │
│ 信心度: 82%                      │
│ [详情] [做空]                    │
└──────────────────────────────────┘

...前20名
```

## 🛠️ 技术实现

### 后端（Python + FastAPI）
```
backend/app/
├── stock_picker.py              # 核心服务类
├── routers/
│   └── stock_picker.py          # API路由
└── models.py                    # 数据模型
```

**核心类**：
- `StockPickerService` - 股票池管理、批量分析、推荐度计算

**数据库表**：
- `stock_picker_pools` - 股票池（40只）
- `stock_picker_analysis` - 分析结果
- `stock_picker_config` - 配置

### 前端（React + TypeScript）
```
frontend/src/
├── pages/
│   └── StockPicker.tsx          # 主页面
├── components/
│   ├── StockPool.tsx            # 股票池组件
│   ├── StockCard.tsx            # 股票卡片
│   └── AddStockDialog.tsx       # 添加对话框
└── api/
    └── stockPicker.ts           # API客户端
```

## 📋 API 接口

| 方法 | 路径 | 功能 |
|-----|------|------|
| GET | `/api/stock-picker/pools` | 获取股票池 |
| POST | `/api/stock-picker/pools` | 添加股票 |
| POST | `/api/stock-picker/pools/batch` | 批量添加 |
| DELETE | `/api/stock-picker/pools/{id}` | 删除股票 |
| POST | `/api/stock-picker/analyze` | 触发批量分析 |
| GET | `/api/stock-picker/analysis` | 获取分析结果（排序） |
| GET | `/api/stock-picker/analysis/{symbol}` | 获取详情 |

## ⏱️ 实施计划

### 第1周：核心功能
- **Day 1-2**: 数据库设计 + 股票池管理API
- **Day 3-4**: 批量分析服务 + 推荐度算法
- **Day 5-7**: 前端界面 + API集成

### 第2周：优化完善
- **Day 1-2**: 批量导入 + 进度显示
- **Day 3-4**: K线预览 + 详情页
- **Day 5-7**: 测试 + 优化 + 文档

## 🎨 界面特色

1. **双栏布局** - 左边做多池，右边做空池
2. **智能排序** - 按推荐度自动排序
3. **评分可视化** - 进度条显示各维度评分
4. **信号展示** - 列出所有检测到的信号
5. **一键操作** - 快速买入/做空

## 📊 示例数据

### 做多池（前5名）
1. NVDA - 92分 - 强烈推荐（A级，多因子共振）
2. AAPL - 78分 - 推荐（B级，趋势向上）
3. MSFT - 75分 - 推荐（B级，MACD金叉）
4. GOOGL - 68分 - 可考虑（C级，RSI健康）
5. AMZN - 65分 - 可考虑（C级，布林中轨）

### 做空池（前5名）
1. XYZ - 85分 - 强烈推荐（D级，空头排列）
2. ABC - 72分 - 推荐（D级，MACD死叉）
3. DEF - 68分 - 推荐（C级，量能萎缩）
4. GHI - 62分 - 可考虑（C级，RSI超买）
5. JKL - 58分 - 可考虑（C级，形态转弱）

## 💡 核心优势

1. **自动化** - 一键分析40只股票
2. **量化评分** - 透明的评分体系
3. **AI辅助** - 结合AI判断
4. **智能排序** - 推荐度排序
5. **实时更新** - 支持自动刷新

## ⚠️ 注意事项

1. **数据时效** - 分析结果缓存5分钟
2. **API限流** - 批量分析时注意限流
3. **仅供参考** - 评分不构成投资建议
4. **风险控制** - 必须设置止损
5. **仓位管理** - 建议分散投资

## 📚 相关文档

1. **[STOCK_PICKER_DESIGN.md](./docs/STOCK_PICKER_DESIGN.md)** - 完整设计文档
2. **[STOCK_PICKER_QUICK_START.md](./docs/STOCK_PICKER_QUICK_START.md)** - 快速实施指南
3. **[AI_SCORING_SYSTEM.md](./AI_SCORING_SYSTEM.md)** - 评分系统说明

---

**文档版本**: v1.0  
**创建日期**: 2025-10-24  
**预计工期**: 1-2周  
**适用场景**: 日内交易、波段交易、组合筛选











