INFO:     Will watch for changes in these directories: ['/Volumes/SamSung/longbridge/backend']
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [9498] using WatchFiles
INFO:     Started server process [9502]
INFO:     Waiting for application startup.
INFO:app.main:startup: entering handler
INFO:app.main:startup: loop attached <uvloop.Loop running=True closed=False debug=False>
INFO:app.streaming:Portfolio update thread started
INFO:app.main:startup: ensure_started finished
INFO:app.main:startup: position monitor started
INFO:app.main:startup: auto-sync task scheduled
INFO:app.main:startup: AI trading engine initialized
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     Application startup complete.
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:     127.0.0.1:51830 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:51829 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:app.main:auto-sync: starting position data sync
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.main:auto-sync: found 13 position symbols
INFO:app.main:auto-sync: found 8 manual symbols
INFO:app.main:auto-sync: syncing 20 symbols
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for NRIX.US using candlesticks()
INFO:app.services:Inserted 100 day records for NRIX.US
INFO:app.position_monitor:Initialized monitoring for 13 positions
INFO:     ('127.0.0.1', 51837) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 1
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:     connection open
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for NRGV.US using candlesticks()
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Inserted 100 day records for NRGV.US
INFO:     127.0.0.1:51824 - "GET /health HTTP/1.1" 200 OK
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for SGC.US using candlesticks()
INFO:app.services:Inserted 100 day records for SGC.US
INFO:     ('127.0.0.1', 52063) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 2
INFO:     connection closed
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 349, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 365, in asgi_send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 255, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Volumes/SamSung/longbridge/backend/app/main.py", line 310, in ai_trading_websocket
    await websocket.send_text(json.dumps(welcome_msg, default=json_serializer))
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 188, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 100, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect
INFO:     connection closed
INFO:     127.0.0.1:51834 - "GET /settings/credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:52088 - "GET /settings/credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:52089 - "GET /settings/ai-credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:52091 - "GET /settings/symbols HTTP/1.1" 200 OK
INFO:     127.0.0.1:52092 - "GET /settings/symbols HTTP/1.1" 200 OK
INFO:     127.0.0.1:52090 - "GET /settings/ai-credentials HTTP/1.1" 200 OK
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for TERN.US using candlesticks()
INFO:app.services:Inserted 100 day records for TERN.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for BHP.US using candlesticks()
INFO:app.services:Inserted 100 day records for BHP.US
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for FBP.US using candlesticks()
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:Inserted 100 day records for FBP.US
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for FMTOF.US using candlesticks()
INFO:app.services:Inserted 100 day records for FMTOF.US
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for TSLL.US using candlesticks()
INFO:app.services:Inserted 100 day records for TSLL.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for GMAR.US using candlesticks()
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Inserted 100 day records for GMAR.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
ERROR:app.streaming:Error in portfolio update thread: OpenApiException: request timeout
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for PENG.US using candlesticks()
INFO:app.services:Inserted 100 day records for PENG.US
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for TBLA.US using candlesticks()
INFO:app.services:Inserted 100 day records for TBLA.US
ERROR:app.streaming:Error processing strategy quote for JD.US: ACTIVE
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for XIACY.US using candlesticks()
INFO:app.services:Inserted 100 day records for XIACY.US
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:Got 100 candles for SPCE.US using candlesticks()
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:Inserted 100 day records for SPCE.US
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for JD.US using candlesticks()
INFO:app.services:Inserted 100 day records for JD.US
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for PFE.US using candlesticks()
INFO:app.services:Inserted 100 day records for PFE.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for UMC.US using candlesticks()
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Inserted 100 day records for UMC.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:Got 100 candles for EDSA.US using candlesticks()
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:Inserted 100 day records for EDSA.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for MRSN.US using candlesticks()
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Inserted 100 day records for MRSN.US
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for TSEM.US using candlesticks()
INFO:app.services:Inserted 100 day records for TSEM.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:Got 100 candles for DVN.US using candlesticks()
INFO:app.services:Inserted 100 day records for DVN.US
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.main:auto-sync: completed - success: 20, failed: 0
INFO:app.services:get_positions: received response type=StockPositionsResponse
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     ('127.0.0.1', 52939) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 3
INFO:     127.0.0.1:52940 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     connection closed
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 349, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 365, in asgi_send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 255, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Volumes/SamSung/longbridge/backend/app/main.py", line 310, in ai_trading_websocket
    await websocket.send_text(json.dumps(welcome_msg, default=json_serializer))
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 188, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 100, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect
INFO:     127.0.0.1:52941 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52940 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52942 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52941 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52943 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     127.0.0.1:52940 - "GET /ai-trading/klines/EDUC.US?period=min1&limit=200 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52944 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52945 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52940 - "GET /ai-trading/klines/EDUC.US?period=min1&limit=200 HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 52946) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 4
INFO:     connection open
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:52940 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:52945 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52944 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:52943 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 52976) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 5
INFO:     127.0.0.1:52941 - "GET /ai-trading/config HTTP/1.1" 200 OK
INFO:     connection open
INFO:     connection closed
INFO:     ('127.0.0.1', 52999) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 6
INFO:     connection open
INFO:     ('127.0.0.1', 53000) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 7
INFO:     connection open
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:     127.0.0.1:52941 - "GET /portfolio/positions HTTP/1.1" 200 OK
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
ERROR:app.streaming:Error processing strategy quote for JD.US: ACTIVE
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
ERROR:app.streaming:Error processing strategy quote for JD.US: ACTIVE
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:     127.0.0.1:53910 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53911 - "GET /ai-trading/positions HTTP/1.1" 200 OK
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:53914 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:53915 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53916 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53917 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     connection closed
INFO:     ('127.0.0.1', 53918) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 8
INFO:     connection closed
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 349, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 365, in asgi_send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 255, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Volumes/SamSung/longbridge/backend/app/main.py", line 310, in ai_trading_websocket
    await websocket.send_text(json.dumps(welcome_msg, default=json_serializer))
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 188, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 100, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect
INFO:     connection closed
INFO:     connection closed
INFO:     127.0.0.1:53910 - "GET /settings/symbols HTTP/1.1" 200 OK
INFO:     127.0.0.1:53911 - "GET /settings/credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:53914 - "GET /settings/credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:53949 - "GET /settings/symbols HTTP/1.1" 200 OK
INFO:     127.0.0.1:53950 - "GET /settings/ai-credentials HTTP/1.1" 200 OK
INFO:     127.0.0.1:53951 - "GET /settings/ai-credentials HTTP/1.1" 200 OK
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:53951 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53950 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53949 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53914 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     127.0.0.1:53911 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53910 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53950 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 53990) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 9
INFO:     127.0.0.1:53911 - "GET /ai-trading/positions HTTP/1.1" 200 OK
INFO:     127.0.0.1:53910 - "GET /ai-trading/klines/EDUC.US?period=min1&limit=200 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53949 - "GET /ai-trading/klines/EDUC.US?period=min1&limit=200 HTTP/1.1" 200 OK
INFO:     connection closed
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 349, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 365, in asgi_send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 255, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Volumes/SamSung/longbridge/backend/app/main.py", line 310, in ai_trading_websocket
    await websocket.send_text(json.dumps(welcome_msg, default=json_serializer))
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 188, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 100, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect
INFO:     ('127.0.0.1', 53991) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 10
INFO:     connection open
INFO:     127.0.0.1:53949 - "GET /ai-trading/engine/status HTTP/1.1" 200 OK
INFO:     127.0.0.1:53910 - "GET /ai-trading/analysis?limit=20 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53911 - "GET /ai-trading/trades?limit=50 HTTP/1.1" 200 OK
INFO:     127.0.0.1:53950 - "GET /ai-trading/positions HTTP/1.1" 200 OK
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 945, in transfer_data
    message = await self.read_message()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 1015, in read_message
    frame = await self.read_data_frame(max_size=self.max_size)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 1090, in read_data_frame
    frame = await self.read_frame(max_size)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 1147, in read_frame
    frame = await Frame.read(
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/framing.py", line 71, in read
    data = await reader(2)
  File "/Library/Developer/CommandLineTools/Library/Frameworks/Python3.framework/Versions/3.9/lib/python3.9/asyncio/streams.py", line 721, in readexactly
    raise exceptions.IncompleteReadError(incomplete, n)
asyncio.exceptions.IncompleteReadError: 0 bytes read on a total of 2 expected bytes

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 349, in asgi_send
    await self.send(data)  # type: ignore[arg-type]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 620, in send
    await self.ensure_open()
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/websockets/legacy/protocol.py", line 921, in ensure_open
    raise self.connection_closed_exc()
websockets.exceptions.ConnectionClosedError: no close frame received or sent

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 97, in send
    await self._send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 50, in sender
    await send(message)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 365, in asgi_send
    raise ClientDisconnected from exc
uvicorn.protocols.utils.ClientDisconnected

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/websockets/websockets_impl.py", line 255, in run_asgi
    result = await self.app(self.scope, self.asgi_receive, self.asgi_send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 151, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 77, in __call__
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 373, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 96, in app
    await wrap_app_handling_exceptions(app, session)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 94, in app
    await func(session)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 348, in app
    await dependant.call(**values)
  File "/Volumes/SamSung/longbridge/backend/app/main.py", line 310, in ai_trading_websocket
    await websocket.send_text(json.dumps(welcome_msg, default=json_serializer))
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 188, in send_text
    await self.send({"type": "websocket.send", "text": data})
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/websockets.py", line 100, in send
    raise WebSocketDisconnect(code=1006)
starlette.websockets.WebSocketDisconnect
INFO:     connection closed
INFO:     ('127.0.0.1', 54024) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 11
INFO:     connection open
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:     ('127.0.0.1', 54033) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 12
INFO:app.services:get_positions: assembled 13 positions
INFO:     connection open
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:53911 - "GET /ai-trading/config HTTP/1.1" 200 OK
INFO:     127.0.0.1:53949 - "GET /ai-trading/config HTTP/1.1" 200 OK
INFO:     ('127.0.0.1', 54048) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 13
INFO:     connection open
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:     127.0.0.1:53949 - "GET /portfolio/positions HTTP/1.1" 200 OK
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     connection closed
INFO:     connection closed
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     ('127.0.0.1', 54183) - "WebSocket /ws/ai-trading" [accepted]
INFO:app.ai_trading_engine:ðŸ“¡ Added AI trading listener, total: 14
INFO:     connection open
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
ERROR:app.streaming:Error processing strategy quote for JD.US: ACTIVE
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:     127.0.0.1:54148 - "GET /portfolio/overview HTTP/1.1" 200 OK
INFO:     127.0.0.1:54147 - "GET /portfolio/overview HTTP/1.1" 200 OK
ERROR:app.main:å…¨å±€å¼‚å¸¸: ConversionException: Conversion Error: Could not convert string 'day' to INT32 when casting from source column period

LINE 1: ..., low, close, volume, turnover FROM ohlc WHERE symbol = ? AND period = ? ORDER BY ts DESC LIMIT ?
                                                                         ^
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Volumes/SamSung/longbridge/backend/app/routers/quotes.py", line 58, in get_history
    bars_raw = get_cached_candlesticks(symbol, limit)
  File "/Volumes/SamSung/longbridge/backend/app/services.py", line 192, in get_cached_candlesticks
    bars = _repo_fetch_candlesticks(symbol, period, limit)
  File "/Volumes/SamSung/longbridge/backend/app/repositories.py", line 178, in fetch_candlesticks
    rows = conn.execute(
_duckdb.ConversionException: Conversion Error: Could not convert string 'day' to INT32 when casting from source column period

LINE 1: ..., low, close, volume, turnover FROM ohlc WHERE symbol = ? AND period = ? ORDER BY ts DESC LIMIT ?
                                                                         ^
INFO:     127.0.0.1:54147 - "GET /quotes/history?symbol=XIACY.US&period=day&limit=200 HTTP/1.1" 500 Internal Server Error
ERROR:    Exception in ASGI application
Traceback (most recent call last):
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/protocols/http/httptools_impl.py", line 419, in run_asgi
    result = await app(  # type: ignore[func-returns-value]
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/uvicorn/middleware/proxy_headers.py", line 84, in __call__
    return await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/applications.py", line 1054, in __call__
    await super().__call__(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/applications.py", line 123, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 186, in __call__
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/errors.py", line 164, in __call__
    await self.app(scope, receive, _send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 93, in __call__
    await self.simple_response(scope, receive, send, request_headers=headers)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/cors.py", line 148, in simple_response
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/middleware/exceptions.py", line 65, in __call__
    await wrap_app_handling_exceptions(self.app, conn)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 756, in __call__
    await self.middleware_stack(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 776, in app
    await route.handle(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 297, in handle
    await self.app(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 77, in app
    await wrap_app_handling_exceptions(app, request)(scope, receive, send)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 64, in wrapped_app
    raise exc
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/_exception_handler.py", line 53, in wrapped_app
    await app(scope, receive, sender)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/routing.py", line 72, in app
    response = await func(request)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 278, in app
    raw_response = await run_endpoint_function(
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/fastapi/routing.py", line 193, in run_endpoint_function
    return await run_in_threadpool(dependant.call, **values)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/starlette/concurrency.py", line 42, in run_in_threadpool
    return await anyio.to_thread.run_sync(func, *args)
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/to_thread.py", line 56, in run_sync
    return await get_async_backend().run_sync_in_worker_thread(
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 2476, in run_sync_in_worker_thread
    return await future
  File "/Volumes/SamSung/longbridge/backend/.venv/lib/python3.9/site-packages/anyio/_backends/_asyncio.py", line 967, in run
    result = context.run(func, *args)
  File "/Volumes/SamSung/longbridge/backend/app/routers/quotes.py", line 58, in get_history
    bars_raw = get_cached_candlesticks(symbol, limit)
  File "/Volumes/SamSung/longbridge/backend/app/services.py", line 192, in get_cached_candlesticks
    bars = _repo_fetch_candlesticks(symbol, period, limit)
  File "/Volumes/SamSung/longbridge/backend/app/repositories.py", line 178, in fetch_candlesticks
    rows = conn.execute(
_duckdb.ConversionException: Conversion Error: Could not convert string 'day' to INT32 when casting from source column period

LINE 1: ..., low, close, volume, turnover FROM ohlc WHERE symbol = ? AND period = ? ORDER BY ts DESC LIMIT ?
                                                                         ^
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
+----------+--------------------------------------------------------------------------------------------------+
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
+----------+--------------------------------------------------------------------------------------------------+
| HK       | LV1 Real-time Quotes                                                                             |
|----------+--------------------------------------------------------------------------------------------------|
| US       | Nasdaq Basic                                                                                     |
|----------+--------------------------------------------------------------------------------------------------|
| USOption | You do not have access to the market's Open API data. Please visit the Quotes Store to purchase. |
|----------+--------------------------------------------------------------------------------------------------|
| CN       | LV1 Real-time Quotes                                                                             |
+----------+--------------------------------------------------------------------------------------------------+
INFO:app.services:get_positions: loaded credentials (keys present: {'LONGPORT_APP_KEY': True, 'LONGPORT_APP_SECRET': True, 'LONGPORT_ACCESS_TOKEN': True})
INFO:app.services:get_positions: built longport Config, requesting stock positions
INFO:app.services:get_positions: received response type=StockPositionsResponse
INFO:app.services:get_positions: raw account=StockPositionChannel { account_channel: "lb", positions: [StockPosition { symbol: "XIACY.US", symbol_name: "Xiaomi Corporation", quantity: 6, available_quantity: 6, currency: "USD", cost_price: 26.250, market: US, init_quantity: Some(6) }, StockPosition { symbol: "TERN.US", symbol_name: "Terns Pharmaceuticals", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 28.270, market: US, init_quantity: Some(4) }, StockPosition { symbol: "TBLA.US", symbol_name: "Taboola.com", quantity: 24, available_quantity: 24, currency: "USD", cost_price: 4.010, market: US, init_quantity: Some(24) }, StockPosition { symbol: "SPCE.US", symbol_name: "Virgin Galactic", quantity: 0.4897, available_quantity: 0.4897, currency: "USD", cost_price: -8.638, market: US, init_quantity: Some(0.4897) }, StockPosition { symbol: "SGC.US", symbol_name: "Superior Uniform", quantity: 11, available_quantity: 11, currency: "USD", cost_price: 9.720, market: US, init_quantity: Some(0) }, StockPosition { symbol: "PFE.US", symbol_name: "Pfizer", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 25.430, market: US, init_quantity: Some(5) }, StockPosition { symbol: "PENG.US", symbol_name: "Penguin Solutions", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 20.270, market: US, init_quantity: Some(5) }, StockPosition { symbol: "NRIX.US", symbol_name: "Nurix Therapeutics", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 16.890, market: US, init_quantity: Some(5) }, StockPosition { symbol: "MRSN.US", symbol_name: "Mersana Therap", quantity: 5, available_quantity: 5, currency: "USD", cost_price: 27.640, market: US, init_quantity: Some(5) }, StockPosition { symbol: "JD.US", symbol_name: "JD.com", quantity: 18, available_quantity: 18, currency: "USD", cost_price: 33.060, market: US, init_quantity: Some(18) }, StockPosition { symbol: "FMTOF.US", symbol_name: "FEMTO TECHNOLOGIES INC", quantity: 2, available_quantity: 2, currency: "USD", cost_price: 30.815, market: US, init_quantity: Some(2) }, StockPosition { symbol: "EDSA.US", symbol_name: "Edesa Biotech", quantity: 17, available_quantity: 17, currency: "USD", cost_price: 1.690, market: US, init_quantity: Some(17) }, StockPosition { symbol: "GMAR.US", symbol_name: "FT Cboe Vest US Equity Moderate Buffer ETF - March", quantity: 4, available_quantity: 4, currency: "USD", cost_price: 40.330, market: US, init_quantity: Some(4) }] }
INFO:app.services:get_positions: account channel=lb, stock_items type=list len=13
INFO:app.services:get_positions: assembled 13 positions
